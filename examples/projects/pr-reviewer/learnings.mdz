---
name: learnings
description: Learn and apply review preferences from feedback.
---

Persistent learning system for review preferences.

## Types

$Learning: /natural language preference with scope/

## Input

- $action: "learn" | "apply"
- $feedback: $String = ""
- $file: $String = ""
- $paths: $String[] = []

## Context

- $learnings: $Learning[] = []

## Workflow

### Learn Action

When $action = "learn":

1. Parse $feedback for the preference and why it matters
2. Determine scope (file pattern or repo-wide)
3. Formulate: "In [scope]: [preference] because [reason]"
4. Append to `.review/learnings.md`:
   ```
   - **Scope**: [pattern]
   - **Learning**: [statement]
   ```

### Apply Action

When $action = "apply":

1. Read `.review/learnings.md` if exists
2. FOR EACH $learning:
   FOR EACH $path IN $paths:
     IF /scope matches path/:
       Add to applicable learnings
3. Return applicable learnings

## Bootstrap

On first run, check for guideline files:
- `.cursorrules`, `CLAUDE.md`, `AGENTS.md`

IF found:
- Parse into learnings with repo-wide scope
- Append to `.review/learnings.md`
